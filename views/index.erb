<% content_for :sidebar do %>
  <h1>Time to Focus</h1>
  <h2>Task: <%= current_user[:task][-1] %></h2>
  <h2>Focus Time: <%= current_user[:focus_time]  %> minutes</h2>
  <h2>Break Time: <%= current_user[:rest_time] %> minutes</h2>

  <h4> Done for now?</h4>
  <form method="get" action="/logout">
    <button type="submit">Log Out</button>
  </form>
<% end %>

<div id="timer-container">
  <h2>Countdown Timer</h2>
  <p id="timer-display">10:00</p>

  <button type="button" id="startTimer">Start</button>
  <button type="button" id="stopTimer" >Stop</button>
  <button type="button" id="resetTimer">Reset</button>
</div>

<div class="markdown-container">  
<% static_header = [
    "| Task | Date | Minutes | Add? |",
    "|--------|---------|-------------|---------|",
    "|form | form  | form       | button |"
  ] %>

  <% dynamic_data = [] %>
   <% if @done %>
      <% dynamic_data << @done.delete(:task) %>
      <% dynamic_data << @done.delete(:start_date) %>
      <% dynamic_data << @done.delete(:time) %>
      <% dynamic_data << 'button' %>
    </div>
  <% end %>


  <% table_data = static_header + dynamic_data %>

  <%= render_markdown(table_data.join("\n")) %>
</div>
